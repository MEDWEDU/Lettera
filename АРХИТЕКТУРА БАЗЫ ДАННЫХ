–ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•: LETTERA
–°–£–ë–î: MongoDB (–≤–µ—Ä—Å–∏—è 6.0+)
–°—Ç–∏–ª—å: –¥–æ–∫—É–º–µ–Ω—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è, –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ —á—Ç–µ–Ω–∏—è
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–∫–ª—é—á–∞–µ—Ç:
–í—Å–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å —Ç–æ—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (string, ObjectId, Date, boolean, embedded objects, arrays)
–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
–ò–Ω–¥–µ–∫—Å—ã (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ, —Å–æ—Å—Ç–∞–≤–Ω—ã–µ, —Ç–µ–∫—Å—Ç–æ–≤—ã–µ, TTL)
–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ö–µ–º—ã (—á–µ—Ä–µ–∑ JSON Schema –∏–ª–∏ Mongoose)
–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
–ü–æ—è—Å–Ω–µ–Ω–∏—è –ø–æ –≤—ã–±–æ—Ä—É —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
1. –ö–æ–ª–ª–µ–∫—Ü–∏—è: users
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –•—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
{
  _id: ObjectId,                          // –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
  email: string,                          // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π, –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
  passwordHash: string,                   // bcrypt hash
  firstName: string,                      // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
  lastName: string,                       // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
  avatarUrl: string,                      // –ü—É—Ç—å –≤ S3 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  profile: {
    position: string,                     // –î–æ–ª–∂–Ω–æ—Å—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    company: string,                      // –ú–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    category: string,                     // "IT", "Marketing", "Design", "Finance"...
    skills: [string]                      // –ú–∞—Å—Å–∏–≤ –Ω–∞–≤—ã–∫–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä ["React", "TypeScript"]
  },
  status: "online" | "offline" | "away",  // –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
  lastSeen: Date,                         // –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–Ω–ª–∞–π–Ω–∞
  emailVerified: boolean,                 // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –ª–∏ email
  createdAt: Date,                        // –í—Ä–µ–º—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  updatedAt: Date                         // –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
}


–ò–Ω–¥–µ–∫—Å—ã
–¢–∏–ø
–ü–æ–ª—è
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
unique
email
–£—Å–∫–æ—Ä–µ–Ω–∏–µ –≤—Ö–æ–¥–∞, –≥–∞—Ä–∞–Ω—Ç–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
text
profile.company, profile.skills
Full-text search –ø–æ –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –Ω–∞–≤—ã–∫–∞–º
single
profile.category
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
single
status, lastSeen
–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω–∞ –≤ —á–∞—Ç–∞—Ö

–í–∞–ª–∏–¥–∞—Ü–∏—è (—á–µ—Ä–µ–∑ JSON Schema)
{
  bsonType: "object",
  required: ["email", "passwordHash", "firstName", "lastName", "createdAt"],
  properties: {
    email: { bsonType: "string", pattern: "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$" },
    passwordHash: { bsonType: "string", minLength: 60 }, // bcrypt hash length
    profile: {
      bsonType: "object",
      properties: {
        category: { enum: ["IT", "Marketing", "Design", "Finance", "Other"] }
      }
    }
  }
}




2. –ö–æ–ª–ª–µ–∫—Ü–∏—è: chats
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —á–∞—Ç–æ–≤ ‚Äî —É—á–∞—Å—Ç–Ω–∏–∫–∏, –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ.
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
{
  _id: ObjectId,
  type: "private",                        // –¢–æ–ª—å–∫–æ private (–≥—Ä—É–ø–ø–æ–≤—ã–µ ‚Äî –≤ –±—É–¥—É—â–µ–º)
  participants: [ObjectId],               // –ú–∞—Å—Å–∏–≤ –∏–∑ 2 ObjectId (ref: users)
  lastMessage: {
    content: string,                      // –¢–µ–∫—Å—Ç –∏–ª–∏ "[–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ]", "[–ê—É–¥–∏–æ]"
    senderId: ObjectId,                   // –ö—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏–ª
    timestamp: Date                       // –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏
  },
  unreadCount: {
    "user1_id": 0,                        // –°—á–µ—Ç—á–∏–∫ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞
    "user2_id": 2
  },
  createdAt: Date,
  updatedAt: Date
}


–ò–Ω–¥–µ–∫—Å—ã
–¢–∏–ø
–ü–æ–ª—è
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
unique
participants (—Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º sparse)
–ì–∞—Ä–∞–Ω—Ç–∏—è –æ–¥–Ω–æ–≥–æ —á–∞—Ç–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
single
participants (–º–∞—Å—Å–∏–≤)
–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —á–∞—Ç–æ–≤ –ø–æ —É—á–∞—Å—Ç–Ω–∏–∫—É ({ participants: userId })
single
updatedAt
–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —á–∞—Ç–æ–≤ –ø–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏

–ü–æ—á–µ–º—É –Ω–µ—Ç embedded messages?
–°–æ–æ–±—â–µ–Ω–∏—è –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç—ã—Å—è—á–∏ –Ω–∞ —á–∞—Ç, –∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –ø—Ä–∏–≤–µ–ª–æ –±—ã –∫ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—é –ª–∏–º–∏—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (16 –ú–ë).


3. –ö–æ–ª–ª–µ–∫—Ü–∏—è: messages
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –•—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–µ–¥–∏–∞, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ soft delete.
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
{
  _id: ObjectId,
  chatId: ObjectId,                       // ref: chats
  senderId: ObjectId,                     // ref: users
  content: string,                        // –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è (–ø—É—Å—Ç–æ–π, –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –º–µ–¥–∏–∞)
  media: {                                // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
    type: "image" | "audio" | "video",
    url: string,                          // –ü—É—Ç—å –≤ S3
    metadata: {
      duration?: number,                  // –î–ª—è –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
      width?: number,                     // –î–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
      height?: number
    }
  },
  editedAt: Date,                         // –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  deletedFor: [ObjectId],                 // –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö —Å–∫—Ä—ã—Ç–æ (soft delete)
  timestamp: Date,                        // –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏
  feedbackRequested: boolean              // –ü–æ–º–µ—á–µ–Ω–æ –ª–∏ –∫–∞–∫ "–æ–∂–∏–¥–∞—é –æ—Ç–≤–µ—Ç–∞"
}


–ò–Ω–¥–µ–∫—Å—ã
–¢–∏–ø
–ü–æ–ª—è
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
compound
chatId, timestamp
–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞ (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏)
single
senderId
–ê—É–¥–∏—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
single
feedbackRequested, timestamp
–ü–æ–∏—Å–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

TTL-–∏–Ω–¥–µ–∫—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö –º–µ–¥–∏–∞ (–µ—Å–ª–∏ –ø–æ–ª–∏—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞):
db.messages.createIndex({ "timestamp": 1 }, { expireAfterSeconds: 2592000 }) // 30 –¥–Ω–µ–π
4. –ö–æ–ª–ª–µ–∫—Ü–∏—è: feedbackRequests
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏.
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
{
  _id: ObjectId,
  messageId: ObjectId,                    // ref: messages
  requesterId: ObjectId,                  // –ö—Ç–æ –∂–¥—ë—Ç –æ—Ç–≤–µ—Ç–∞
  responderId: ObjectId,                  // –û—Ç –∫–æ–≥–æ –∂–¥—É—Ç (—Å–æ–±–µ—Å–µ–¥–Ω–∏–∫ –≤ —á–∞—Ç–µ)
  chatId: ObjectId,                       // ref: chats
  status: "pending" | "responded" | "expired",
  requestedAt: Date,                      // –ö–æ–≥–¥–∞ –ø–æ–º–µ—Ç–∏–ª–∏ –∫–∞–∫ "–æ–∂–∏–¥–∞—é –æ—Ç–≤–µ—Ç–∞"
  respondedAt: Date,                      // –ö–æ–≥–¥–∞ –ø—Ä–∏—à—ë–ª –æ—Ç–≤–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  expiresAt: Date                         // +7 –¥–Ω–µ–π –æ—Ç requestedAt
}


–ò–Ω–¥–µ–∫—Å—ã
–¢–∏–ø
–ü–æ–ª—è
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
unique
messageId
–û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ
single
requesterId, status
–õ–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
TTL
expiresAt
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

üí° –ü–æ—á–µ–º—É –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è?
–ß—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤ messages, –∏ —á—Ç–æ–±—ã –ª–µ–≥–∫–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å ¬´–≤—Å–µ –º–æ–∏ pending-–∑–∞–ø—Ä–æ—Å—ã¬ª.


5. –ö–æ–ª–ª–µ–∫—Ü–∏—è: searchHistory
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–∏—Å–∫–∞ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (–≤ –±—É–¥—É—â–µ–º).
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
{
  _id: ObjectId,
  userId: ObjectId,                       // ref: users
  query: {
    category: string,
    company: string,
    skills: [string]
  },
  resultsCount: number,                   // –°–∫–æ–ª—å–∫–æ –Ω–∞–π–¥–µ–Ω–æ
  timestamp: Date
}


–ò–Ω–¥–µ–∫—Å—ã
–¢–∏–ø
–ü–æ–ª—è
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
single
userId, timestamp
–ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
TTL
timestamp
–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—à–µ 90 –¥–Ω–µ–π



6. –ö–æ–ª–ª–µ–∫—Ü–∏—è: onlineStatus
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω–∞ (–Ω–∞ —Å–ª—É—á–∞–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞).
–û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–∞—Ç—É—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Redis, –Ω–æ MongoDB ‚Äî —Ä–µ–∑–µ—Ä–≤.
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
{
  _id: ObjectId,
  userId: ObjectId,
  status: "online" | "away",
  lastPing: Date                          // –ü–æ—Å–ª–µ–¥–Ω–µ–µ heartbeat-—Å–æ–æ–±—â–µ–Ω–∏–µ
}


–ò–Ω–¥–µ–∫—Å—ã
–¢–∏–ø
–ü–æ–ª—è
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
unique
userId
–û–¥–∏–Ω —Å—Ç–∞—Ç—É—Å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
TTL
lastPing
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç



7. –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
refreshTokens: –•—Ä–∞–Ω–µ–Ω–∏–µ refresh-—Ç–æ–∫–µ–Ω–æ–≤ —Å userId –∏ expiresAt (–¥–ª—è logout –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤).
emailVerificationCodes: –†–µ–∑–µ—Ä–≤ –¥–ª—è –∫–æ–¥–æ–≤ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (–µ—Å–ª–∏ Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω).


–ö–õ–Æ–ß–ï–í–´–ï –ü–†–ò–ù–¶–ò–ü–´ –ê–†–•–ò–¢–ï–ö–¢–£–†–´
1. –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–¥–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏
lastMessage –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ chats, —á—Ç–æ–±—ã –Ω–µ –¥–µ–ª–∞—Ç—å JOIN –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å–ø–∏—Å–∫–∞ —á–∞—Ç–æ–≤.
profile –≤—Å—Ç—Ä–æ–µ–Ω –≤ users, —á—Ç–æ–±—ã –Ω–µ –¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞.
2. Soft Delete –≤–º–µ—Å—Ç–æ Hard Delete
–°–æ–æ–±—â–µ–Ω–∏—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ deletedFor.
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.
3. –ò–Ω–¥–µ–∫—Å—ã –ø–æ–¥ –∫–∞–∂–¥—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
–ü–æ–∏—Å–∫ ‚Üí text index
–ß–∞—Ç—ã ‚Üí compound index –ø–æ chatId + timestamp
–û–Ω–ª–∞–π–Ω ‚Üí TTL + single index
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ email –∏ –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
4. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
–í—Å–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç userId –∏–ª–∏ chatId ‚Üí –ª–µ–≥–∫–æ —à–∞—Ä–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ —ç—Ç–∏–º –ø–æ–ª—è–º.
–¢—è–∂–µ–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ø–æ–∏—Å–∫, –∏—Å—Ç–æ—Ä–∏—è) –ø–æ–∫—Ä—ã—Ç—ã –∏–Ω–¥–µ–∫—Å–∞–º–∏ ‚Üí no COLLSCAN.
5. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¢–ó
–ü–æ–ª–µ profile.category ‚Üí —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.
profile.skills ‚Üí –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–≤—ã–∫–∞–º.
feedbackRequested + feedbackRequests ‚Üí —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏.
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ–¥–∏–∞ ‚Üí media object —Å —Ç–∏–ø–æ–º –∏ URL.
